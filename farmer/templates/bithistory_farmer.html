{% include 'menu.html' %}
<body>
    {% include 'header.html' %}
    <br><br>
    <div class="container">
        {% for year, products in bits_by_year.items %}
            <div class="card mt-3">
                <div class="card-header">
                    <h4>{{ year }}</h4>
                </div>
                <div class="card-body">
                    {% for product, bits in products.items %}
                        <h4>Product: {{ product }}</h4>
                        <table class="table table-bordered">
                            <thead>
                                <tr>
                                    <th>Product Type</th>
                                    <th>Quality</th>
                                    <th>Rate</th>
                                    <th>Quantity</th>
                                    <th>Bit Value</th>
                                    <th>Bitter</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Accepted Bits -->
                                {% for bit in bits.accepted %}
                                <tr class="table-success">
                                    <td>{{ bit.product_type }}</td>
                                    <td>{{ bit.quality }}</td>
                                    <td>{{ bit.rate }}</td>
                                    <td>{{ bit.quantity }}</td>
                                    <td>{{ bit.bit_value }}</td>
                                    <td>{{ bit.bitter }}</td>
                                    
                                    <td><span class="btn btn-success">Accepted</span></td>
                                </tr>
                                {% endfor %}

                                <!-- Rejected Bits -->
                                {% for bit in bits.rejected %}
                                <tr class="table-danger">
                                    <td>{{ bit.product_type }}</td>
                                    <td>{{ bit.quality }}</td>
                                    <td>{{ bit.rate }}</td>
                                    <td>{{ bit.quantity }}</td>
                                    <td>{{ bit.bit_value }}</td>
                                    <td>{{ bit.bitter }}</td>
                                    <td><span class="btn btn-danger">Rejected</span></td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    {% endfor %}
                </div>
            </div>
            {% empty %} <br><br>
                        <table  class="table table-striped table-bordered dataTable no-footer">
                            <thead>
                                <tr>
                                    <th>Product Type</th>
                                    <th>Quality</th>
                                    <th>Rate</th>
                                    <th>Quantity</th>
                                    <th>Bit Value</th>
                                    <th>Bitter</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                             <tbody> 
                                <tr><td colspan="9">No new bits</td></tr>
                            </tbody>
        {% endfor %}
    </div>
{% include 'footer.html' %}
</body>
